<!DOCTYPE html>
<html>
<body>

<h2>HTML yozing va link oling (faqat sening tokening bilan)</h2>
<textarea id="html" style="width:100%;height:200px;"></textarea>
<br>
<button onclick="send()">Link olish</button>
<br>
<input id="result" placeholder="Link shu yerda chiqadi" readonly>

<script>
async function send() {
  const html = document.getElementById("html").value;

  const token = "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"; // <- bu yerga token qo'yiladi

  const res = await fetch("https://api.github.com/gists", {
    method: "POST",
    headers: {
      "Authorization": "Bearer " + token,
      "Content-Type": "application/json",
      "User-Agent": "HTML Link Generator"
    },
    body: JSON.stringify({
      public: true,
      files: {
        "index.html": { content: html }
      }
    })
  });

  const data = await res.json();
  document.getElementById("result").value = data.html_url;
}
</script>

</body>
</html>
